{% extends "base.html" %}

{% block title %}Extreme Metal Vocal Techniques DB with Spotify Popularity{% endblock %}

{% block content %}
<!-- Section: Welcome -->
<section class="section" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
  <div class="card">
    <h1>The Extreme Metal Vocal Techniques Databases</h1>
    <p>A place with databases and analytical tools related to extreme metal vocal techniques.<br> More detailed information can be found in <i>About</i>.<br> Use <strong>Menu</strong> for navigation.</br></p>
  </div>
</section>

<!-- Section: Databases -->
<section class="section">
  <div class="card small">
    <h2>Available Databases</h2>
    <div class="db-links">
  <button class="db-button" onclick="showDescription('db3', this)">EMVT Database</button>
  <button class="db-button" onclick="showDescription('db1', this)">Spotty5 DB (EMVT examples)</button>
  <button class="db-button" onclick="showDescription('metalvox', this)">Metalvox Dataset</button>
  <button class="db-button" onclick="showDescription('triple12', this)">Triple 12 Dataset</button>
</div>
<div id="dbDescription" class="dynamic-description"></div>

  </div>
</section>

<!-- Section: Spotify Popularity Analyzer-->
<section class="section">
  <div class="card">
    <h2>Spotty5 Popularity Analyzer</h2>
    <p>My intuitive web application for exploring the popularity metrics of an artist’s entire discography on Spotify. <br>Crafted with passion for both music and computers.</p>
  </div>
</section>

<!-- Section: Analytics -->
<section class="section">
  <div class="card">
    <h2>Analytics</h2>
    <p>Explore visual insights and correlations based on the data collected across all databases.</p>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  // Появление секций при скролле
  const sections = document.querySelectorAll(".section");
  const options = {
    threshold: 0.3
  };
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add("visible");
      }
    });
  }, options);
  sections.forEach(section => observer.observe(section));

  // Описание баз
 const descriptions = {
  db1: `<p><strong>Extreme Metal Vocal Techniques Examples Database with Spotify popularity metrics:</strong> <br>210 curated excerpts of metal songs with growling, screaming, and clean vocals. Contains Spotify popularity metrics. This dataset serves as foundation for all other datasets in this project. <br>More information on the dataset can be found in <strong>About</strong> section.</br></p>`,
  db3: `<p><strong>Extreme Metal Vocal Techniques Database:</strong> <br>Studio recordings of 15 metal vocalists reproducing the same excerpts as in <strong>EMVT Examples Database</strong>, but in different vocal techniques under controlled conditions. <br>To be completed by July 2025.</p>`,
  metalvox: `
    <h3>METALVOX Stimuli Set: 6 Vocal Conditions, 6 Vocalists</h3>
    <p>
      This set includes recordings from 6 vocalists (5 male, 1 female) who each performed 12 identical and 12 unique vocal fragments across six distinct conditions:
      <ul>
        <li>Clean vocals with melody</li>
        <li>Clean vocals without melody (or "one-note melody" monotonous singing)</li>
        <li>Screaming with melodic contour</li>
        <li>Screaming without melodic contour</li>
        <li>Growling with melodic contour</li>
        <li>Growling without melodic contour</li>
      </ul>
      Each vocalist contributed a total of 144 recordings.<br>
      An additional vocalist recorded only 7 of the 12 identical fragments; since the task was incomplete, these recordings were not included here but are available in the more comprehensive EMVT dataset.
      <br><br>
      This stimulus set was specifically designed for a <strong>perceptual experiment</strong> conducted as part of a research project presented at the <strong>18th International Conference on Music Perception and Cognition (ICMPC)</strong> in São Paulo, Brazil, July 2025.
    </p>
  `,
  triple12: `
    <h3>"Triple Twelve" Stimuli Set</h3>
    <p>
      This set contains recordings from 12 vocalists (10 male, 2 female) who each performed 12 identical vocal fragments and 12 unique fragments using three vocal techniques (Clean, Screaming, Growling), recorded in two conditions:
      <ul>
        <li>With melodic context</li>
        <li>Without melodic context (isolated or with melodic contour for extreme vocals)</li>
      </ul>
      <blockquote>
        <i>Twelve vocalists × Twelve shared songs × Twelve unique songs: that's the logic behind this set.</i>
      </blockquote>
      Each vocalist re-recorded real musical fragments in both conditions. Musical examples were randomly selected from the EMVT Spotty5 examples dataset, also included in this project.
    </p>
  `
};


  function showDescription(key, btn) {
    const desc = document.getElementById("dbDescription");
    desc.classList.remove("visible");
    setTimeout(() => {
      desc.innerHTML = descriptions[key];
      desc.classList.add("visible");
    }, 200);
    document.querySelectorAll('.db-button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }


</script>
{% endblock %}
